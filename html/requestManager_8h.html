<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Heislab_gruppe_64: TrymsElevator/requestManager.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Heislab_gruppe_64
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_602ddae3f7145ef764812cddf8df5530.html">TrymsElevator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">requestManager.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A library containing state machine functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="elevio_8h_source.html">elevio.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for requestManager.h:</div>
<div class="dyncontent">
<div class="center"><img src="requestManager_8h__incl.png" border="0" usemap="#TrymsElevator_2requestManager_8h" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="requestManager_8h__dep__incl.png" border="0" usemap="#TrymsElevator_2requestManager_8hdep" alt=""/></div>
<!-- MAP 1 -->
</div>
</div>
<p><a href="requestManager_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRequest.html">Request</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">struct for storing number of requests currently treated by the elevator system and from which floor the request(s) is/are coming from  <a href="structRequest.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9d312b1d088fb51b424e09cb8a9b4719"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structRequest.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#a9d312b1d088fb51b424e09cb8a9b4719">initRequestDatabase</a> ()</td></tr>
<tr class="memdesc:a9d312b1d088fb51b424e09cb8a9b4719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes database containing requests by setting number of requests and at which floor the request(s) is/are coming from to 0.  <a href="requestManager_8h.html#a9d312b1d088fb51b424e09cb8a9b4719">More...</a><br /></td></tr>
<tr class="separator:a9d312b1d088fb51b424e09cb8a9b4719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43824267bf3ece7b38eeb16749f3ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#ac43824267bf3ece7b38eeb16749f3ddd">updateRequests</a> (<a class="el" href="structRequest.html">Request</a> *requestDatabase)</td></tr>
<tr class="memdesc:ac43824267bf3ece7b38eeb16749f3ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the request database and lights the lamp where the button is pressed.  <a href="requestManager_8h.html#ac43824267bf3ece7b38eeb16749f3ddd">More...</a><br /></td></tr>
<tr class="separator:ac43824267bf3ece7b38eeb16749f3ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f954b0b8d8ed57169eec3b5d4ef9b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#ac2f954b0b8d8ed57169eec3b5d4ef9b1">updateNrRequests</a> (<a class="el" href="structRequest.html">Request</a> *database)</td></tr>
<tr class="memdesc:ac2f954b0b8d8ed57169eec3b5d4ef9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the number of requests currently stored in the database.  <a href="requestManager_8h.html#ac2f954b0b8d8ed57169eec3b5d4ef9b1">More...</a><br /></td></tr>
<tr class="separator:ac2f954b0b8d8ed57169eec3b5d4ef9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dce76abf5a678315aa97d44ab83198"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#ae4dce76abf5a678315aa97d44ab83198">getRequest</a> (int elevatorFloor, int dir, int database[N_BUTTONS][N_FLOORS])</td></tr>
<tr class="memdesc:ae4dce76abf5a678315aa97d44ab83198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets floor represented by an integer which the elevator should move to based on a request from the client.  <a href="requestManager_8h.html#ae4dce76abf5a678315aa97d44ab83198">More...</a><br /></td></tr>
<tr class="separator:ae4dce76abf5a678315aa97d44ab83198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b5162d7d6b325f156ffbac8d8816c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#a33b5162d7d6b325f156ffbac8d8816c7">getRequestInDIrection</a> (int elevatorFloor, <a class="el" href="elevio_8h.html#ab0dd3595d7049b92115a766f0ea6f7e0">MotorDirection</a> dir, int currentRequest, int database[N_BUTTONS][N_FLOORS])</td></tr>
<tr class="memdesc:a33b5162d7d6b325f156ffbac8d8816c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies if the next floor (either above or below the current) exists in the database.  <a href="requestManager_8h.html#a33b5162d7d6b325f156ffbac8d8816c7">More...</a><br /></td></tr>
<tr class="separator:a33b5162d7d6b325f156ffbac8d8816c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac24fe0be390dbceb7f9924d438e9234"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#aac24fe0be390dbceb7f9924d438e9234">deleteRequest</a> (int floor, <a class="el" href="structRequest.html">Request</a> *database)</td></tr>
<tr class="memdesc:aac24fe0be390dbceb7f9924d438e9234"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an individual request in the <code>database</code> on the floor specified by <code>floor</code>.  <a href="requestManager_8h.html#aac24fe0be390dbceb7f9924d438e9234">More...</a><br /></td></tr>
<tr class="separator:aac24fe0be390dbceb7f9924d438e9234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f029713250b768b98968399f8585ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="requestManager_8h.html#ac1f029713250b768b98968399f8585ae">deleteAllRequests</a> (<a class="el" href="structRequest.html">Request</a> *database)</td></tr>
<tr class="memdesc:ac1f029713250b768b98968399f8585ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all requests in the <code>database</code>.  <a href="requestManager_8h.html#ac1f029713250b768b98968399f8585ae">More...</a><br /></td></tr>
<tr class="separator:ac1f029713250b768b98968399f8585ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A library containing state machine functionality. </p>

<p class="definition">Definition in file <a class="el" href="requestManager_8h_source.html">requestManager.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac1f029713250b768b98968399f8585ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f029713250b768b98968399f8585ae">&#9670;&nbsp;</a></span>deleteAllRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deleteAllRequests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRequest.html">Request</a> *&#160;</td>
          <td class="paramname"><em>database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes all requests in the <code>database</code>. </p>
<p>Sets the number of requests and all the values in <code>database</code> equal to 0, and turns off all button lights</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">database</td><td>Container for which floor and button a/several request(s) exist </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00111">111</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="aac24fe0be390dbceb7f9924d438e9234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac24fe0be390dbceb7f9924d438e9234">&#9670;&nbsp;</a></span>deleteRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deleteRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>floor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRequest.html">Request</a> *&#160;</td>
          <td class="paramname"><em>database</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an individual request in the <code>database</code> on the floor specified by <code>floor</code>. </p>
<p><a class="el" href="structRequest.html" title="struct for storing number of requests currently treated by the elevator system and from which floor t...">Request</a> gets deleted by setting the <code>batabase</code> equal to 0 on floor(s) <code>floor</code> location(s) in its array/table, and decrements the number of total requests by 1 <br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">floor</td><td>Floor where the request is to be deleted in the database</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">database</td><td>Container for which floor and button a/several request(s) exist </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00099">99</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="ae4dce76abf5a678315aa97d44ab83198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4dce76abf5a678315aa97d44ab83198">&#9670;&nbsp;</a></span>getRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elevatorFloor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>database</em>[N_BUTTONS][N_FLOORS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets floor represented by an integer which the elevator should move to based on a request from the client. </p>
<p>If the elevator has stopped, it loops through all available buttons, and if there exist a stored request (1) in the database at the current floor it returns that floor.</p>
<p>If the previously visited floor is below the 3rd floor, it loops through all floors in the reverse direction (from the 4th to the 1st) and all buttons. The first floor it encounters where there is a stored request (1) in the database, it returns the corresponding floor</p>
<p>If the previously visited floor is on the 3rd floor or above, it loops through all floors (from the 1st to the 4th) and all buttons. The first floor it encounters where there is a stored request (1) in the database, it returns the corresponding floor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">elevatorFloor</td><td>Current floor elevator is on/last visited</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>Current direction of the elevator</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">database</td><td>2D-array to be read to check which floor the request is coming from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Floor the request is coming from </dd></dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00045">45</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="a33b5162d7d6b325f156ffbac8d8816c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b5162d7d6b325f156ffbac8d8816c7">&#9670;&nbsp;</a></span>getRequestInDIrection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getRequestInDIrection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elevatorFloor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="elevio_8h.html#ab0dd3595d7049b92115a766f0ea6f7e0">MotorDirection</a>&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>currentRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>database</em>[N_BUTTONS][N_FLOORS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies if the next floor (either above or below the current) exists in the database. </p>
<p>If the elevator moves in the upwards direction and there's a non-zero difference between the requested and current floor, it returns the floor right above the previously visited one if it exists in the database</p>
<p>If the elevator moves in the downwards direction, it does the same as with the upwards direction with the difference being that it returns the floor right below if it exists in the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">elevatorFloor</td><td>Current floor</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>Motor direction</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">currentRequest</td><td>Current floor requested by client</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">database</td><td>Database containing requested floor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next floor (either above or below the current) if there exist a request in the database at that floor, otherwise -1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00076">76</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="a9d312b1d088fb51b424e09cb8a9b4719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d312b1d088fb51b424e09cb8a9b4719">&#9670;&nbsp;</a></span>initRequestDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRequest.html">Request</a> initRequestDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes database containing requests by setting number of requests and at which floor the request(s) is/are coming from to 0. </p>
<dl class="section return"><dt>Returns</dt><dd>Instance of <a class="el" href="structRequest.html" title="struct for storing number of requests currently treated by the elevator system and from which floor t...">Request</a> called "requestDatabase" where all values are 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00004">4</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="ac2f954b0b8d8ed57169eec3b5d4ef9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f954b0b8d8ed57169eec3b5d4ef9b1">&#9670;&nbsp;</a></span>updateNrRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateNrRequests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRequest.html">Request</a> *&#160;</td>
          <td class="paramname"><em>database</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the number of requests currently stored in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">database</td><td><a class="el" href="structRequest.html" title="struct for storing number of requests currently treated by the elevator system and from which floor t...">Request</a> struct where its numRequest is to be updated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00033">33</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
<a id="ac43824267bf3ece7b38eeb16749f3ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43824267bf3ece7b38eeb16749f3ddd">&#9670;&nbsp;</a></span>updateRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateRequests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRequest.html">Request</a> *&#160;</td>
          <td class="paramname"><em>requestDatabase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the request database and lights the lamp where the button is pressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">requestDatabase</td><td><a class="el" href="structRequest.html" title="struct for storing number of requests currently treated by the elevator system and from which floor t...">Request</a> struct where its Database is to be updated to 1 wherever the button and floor matches </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="requestManager_8c_source.html#l00018">18</a> of file <a class="el" href="requestManager_8c_source.html">requestManager.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
